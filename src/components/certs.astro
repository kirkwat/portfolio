---
import { getCollection } from "astro:content";
import { Picture } from "@astrojs/image/components";

const featuredCerts = await getCollection(
  "cert",
  ({ data }) => "featured" in data
);
const orderedCerts = featuredCerts.sort(
  (a, b) => a.data.featured! - b.data.featured!
);

const widths = [450, 800, 1200];
const sizes = "100vw";
---

<section
  id="certifications"
  class="mx-auto flex max-w-4xl scroll-mt-24 flex-col items-center gap-4 space-y-8"
>
  <h3 class="gradient-text text-left font-extrabold tracking-tight text-2xl">
    Certifications
  </h3>
  <ul class="grid w-2/3 grid-cols-2 gap-4 md:grid-cols-4">
    {
      orderedCerts.map((cert) => (
        <li id={cert.id}>
          <Picture
            class="h-full w-full object-cover"
            src={cert.data.image}
            widths={widths}
            aspectRatio={1}
            sizes={sizes}
            alt={cert.data.title}
          />
        </li>
      ))
    }
  </ul>
</section>
