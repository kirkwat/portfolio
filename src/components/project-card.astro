---
import { Picture } from "@astrojs/image/components";
import { Icon } from "astro-icon";
import type { CollectionEntry } from "astro:content";
import { resolveImage } from "~/content/showcase/_resolveImage.js";

export interface Props {
  project: CollectionEntry<"showcase">;
}

const { project } = Astro.props;
const image = await resolveImage(project);
const widths = [450, 800];
const sizes = "(min-width: 1024px) 33vw, (min-width: 768px) 50vw, 100vw";
const strings = ["hello", "world", "world", "world", "world", "world"];
---

<li id={project.id} class="group aspect-video hover:!text-default">
  <figure class="relative h-full w-full overflow-hidden rounded-xl">
    <Picture
      class="h-full w-full bg-cover object-cover opacity-60 transition-all duration-300 group-hover:scale-110 group-focus:scale-110"
      src={image.src}
      widths={widths}
      sizes={sizes}
      aspectRatio="16:9"
      alt={`A screenshot of ${project.data.url}`}
    />
    <figcaption class="absolute inset-0">
      <div
        class="flex h-full flex-col items-start justify-end gap-2 p-4 group-hover:justify-between group-focus:justify-between"
      >
        <h3
          class="text-center font-extrabold uppercase transition-all duration-300 text-xl group-hover:hidden group-focus:hidden"
        >
          {project.data.title}
        </h3>
        <div class="hidden gap-3 group-hover:flex group-focus:flex">
          <a
            href="https://github.com/kirkwat"
            class="rounded-full bg-offset px-3 py-2 opacity-80 hover:opacity-100"
          >
            <Icon name="fa-brands:github" class="h-6" />
          </a>
          <a
            href="https://github.com/kirkwat"
            class="rounded-full bg-offset px-3 py-2 opacity-80 hover:opacity-100"
          >
            <Icon name="fa-brands:youtube" class="h-6" />
          </a>
          <a
            href="https://github.com/kirkwat"
            class="rounded-full bg-offset px-3 py-2 opacity-80 hover:opacity-100"
          >
            <Icon name="fa-brands:github" class="h-6" />
          </a>
        </div>
        <ul
          class="hidden flex-row flex-wrap-reverse gap-3 group-hover:flex group-focus:flex"
        >
          {
            strings.map((string) => (
              <li
                id={string}
                class="rounded-full bg-offset px-3 py-1.5 font-semibold opacity-80 transition-all duration-300 text-sm"
              >
                {string}
              </li>
            ))
          }
        </ul>
      </div>
    </figcaption>
  </figure>
</li>
